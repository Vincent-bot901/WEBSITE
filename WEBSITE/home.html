<!DOCTYPE html> 
<html> 
<head> 
 <header>
<ul>
  <li><a href="index.html">Home</a></li>
  <li><a href="Kode.html">Kode</a></li>
  <li><a href="Flappy.html">Button</a></li>
  <li><a href="Portfolie.html">Astro Pi</a></li>
  <li><a href="home.html">Game</a></li>
  <li><a href="Data.html">Quiz</a></li>
</ul>
</header>
  <title>Circle game</title> 
</head> 
<body> 
<h1>Score</h1>
<h1 id="id01">Score =0</h1>
<canvas id="game-canvas" width="500" height="500"> <img id="image" src="IMG/DEAD.jpg"
            alt="GFG image" / ></canvas> 
  <script src="IMG/script.js"></script>
   <link rel="stylesheet" type="text/css" href="css/style.css" />
   <link rel="stylesheet" type="text/css" href="IMG/style.css" />
</body> 
</html> 
<div class="flex-container-1">
	<div class="Small-container">
	<pre>
	  <code>
	  	<h1 class="text-kode"> Javascript</h1>
		// Set up the canvas 
var canvas = document.getElementById("game-canvas"); 
var ctx = canvas.getContext("2d"); 
ctx.fillStyle = "green";
ctx.fillRect(0, 0, canvas.width, canvas.height);

// Variables for Circle position 
var xPos = 100; 
var yPos = 200; 

var speed = 20
var SpeedMin = 400
function drawCircle() { 
  ctx.beginPath();
  ctx.arc(xPos, yPos, 20, 0, 2 * Math.PI, false); 
  ctx.stroke(); 
}  
// Variables for enemy Circle position 
var fPos = (Math.random() * 400); 
var gPos = (Math.random() * 500); 
function drawenemyCircle() { 
  ctx.beginPath();
  ctx.arc(fPos, gPos, 20, 0, 2 * Math.PI, false); 
  ctx.stroke(); 
}  
var x = 20;
var y = 20;
var score = 0;
// Draw the obstacle 
function moveEnemy() { 
  fPos += x
  gPos += y
  if (fPos >= 500) {
   x = Math.random() * -1* speed
  }
  if (fPos <= -20) {
     x = Math.random() * speed
  }
  if (gPos >= 500) {
   y = Math.random() * -1 * speed
  }
  if (gPos <= -0) {
   y = Math.random() * speed
  }
} 
function COLL() { 
  let dx = fPos - xPos;
  let dy = gPos - yPos;
  let distance = Math.sqrt(dx * dx + dy * dy); 
  let sumR = 30;
  if ( distance < sumR || distance === sumR ){
     console.log("smashed IT");
     DEAD()}
  if (distance > sumR || distance != sumR ) {
    score++;
    const element = document.getElementById("id01");
    element.innerHTML = score;
  }
  if (score > SpeedMin) {
    speed += 30;
    SpeedMin *= 2;
  }
}
function DEAD() {
 ctx.clearRect(0, 0, canvas.width, canvas.height);
  xPos = Math.random() * 400
  yPos = Math.random() * 400
  score = 0
  speed = 20
  }
// Animate the Circle
function animate() { 
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  ctx.fillRect(0, 0, canvas.width, canvas.height);
  drawCircle();
  drawenemyCircle();
  moveEnemy();
  COLL();
} 
// Listen for arrow key presses 
document.onkeydown = function(event) { 
  switch (event.keyCode) { 
    case 65: // Left arrow 
      if (xPos <= 20) {
        xPos -= 0 ;
        break;
      }
      else{
        xPos -= 20;
        break;
      }
    case 68: // Right arrow 
      if (xPos >= 480) {
        xPos -= 0 ;
        break; 
      }
      else{
        xPos += 20
        break; 
      }
  case 87: // Up arrow
      if (yPos <= 20) {
        yPos += 0 ;
        break;
      }
      else{
        yPos -= 20;
        break;
      }
    case 83: // Down arrow 
       if (yPos >= 480) {
        yPos += 0 ;
        break;
      }
      else{
        yPos += 20;
        break;
      }
  } 
}; 
setInterval(animate, 50); 
	  </code>
	 </div>
	 <div class="Small-container">
  	<h2 class="Center"> Hvordan fungere Javascript?</h2>
  	<p class="other-text"> Først definerer vi vores Canvas. Så definerer vi canvas baggrund farven. Nu definerer vi x og y værdier for cirklen. Derefter definerer vi farten af spilleren  og derefter SpeedMin, hvilket vi senere bruger for at gøre spillet svære. Derefter laver vi en funktion som tegner spilleren. Derefter definerer vi den “onde” cirkels x og y værdier, hvilket vi ganger med et tilfældig tal mellem 0 og 400/ 0 og 500 så at cirklen ikke altid starter det sammen sted. Derefter definerer vi en funktion som tegner den “onde” cirkel, via ctx.arc.  Nu bruger vi en funktion til at bevæge den “onde” cirkel. Her tilsætter vi x og y til den “onde” cirkels fPos ig gPos. Derudover sætter vi en grænse for den “onde” cirkel så at den ikke kan gå ud af canvasen.  Derefter laver vi en collision funktion som tjekker hvis den onde cirkel og spiller cirklen rammer en anden. Hvis cirklerne kollidere så kalder vi på funktionen dead(), ellers sætter vi point til vores score. Hvilket vi viser ved brug af inner.html efter at have defineret element.  Nu laver vi en funktion for når cirklerne rør en anden, hvor vi vores canvas bliver ryddet og derefter definerer vi xpos og ypos for cirklen. Så definerer vi score til 0 og speed til 20. Så skal vi nu lave en loop funktion, som er den funktion som holder alle andre funktioner kørende, for at starte denne loop skriver vi setInterval(animate,50). For at bevæg spilleren bruger vi on.document keydown, for at dokumenter hvornår tasterne bliver trykket, og når tasten er blevet trykket rykker vi så på spiller cirklen. 
</div>
  </div>
</div>



